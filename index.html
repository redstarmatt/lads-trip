<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Lads, Lads, Lads!">
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" href="./images/icon-192.png">
    <title>Lads, Lads, Lads!</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
</head>
<body>
    <!-- Name Selection Screen -->
    <div id="select-screen" class="screen active">
        <div class="backdrop"></div>
        <div class="select-content">
            <div class="logo-container">
                <h1 class="app-title">Lads, Lads, Lads!</h1>
                <p class="subtitle">Verona & Florence 2026</p>
                <p class="dates">26-29 January</p>
            </div>
            <p class="select-prompt">Who are you?</p>
            <div class="lads-grid">
                <button class="lad-card" data-lad="matt" onclick="selectLad('matt')">
                    <div class="lad-photo" id="photo-matt"></div>
                    <span class="lad-name">Matt</span>
                </button>
                <button class="lad-card" data-lad="ken" onclick="selectLad('ken')">
                    <div class="lad-photo" id="photo-ken"></div>
                    <span class="lad-name">Ken</span>
                </button>
                <button class="lad-card" data-lad="chris" onclick="selectLad('chris')">
                    <div class="lad-photo" id="photo-chris"></div>
                    <span class="lad-name">Chris</span>
                </button>
                <button class="lad-card" data-lad="andy" onclick="selectLad('andy')">
                    <div class="lad-photo" id="photo-andy"></div>
                    <span class="lad-name">Andy</span>
                </button>
                <button class="lad-card" data-lad="mark" onclick="selectLad('mark')">
                    <div class="lad-photo" id="photo-mark"></div>
                    <span class="lad-name">Mark</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="main-screen" class="screen">
        <header class="app-header">
            <button id="back-btn" class="back-btn">&larr;</button>
            <h2 id="welcome-msg">Welcome, Matt!</h2>
        </header>

        <nav class="tab-nav">
            <button class="tab-btn active" data-tab="itinerary">Overview</button>
            <button class="tab-btn" data-tab="flights">Flights</button>
            <button class="tab-btn" data-tab="trains">Trains</button>
            <button class="tab-btn" data-tab="football">Football</button>
            <button class="tab-btn" data-tab="accommodation">Stay</button>
            <button class="tab-btn" data-tab="costs">Costs</button>
            <button class="tab-btn" data-tab="predictions">Predict</button>
            <button class="tab-btn" data-tab="recs">Florence</button>
            <button class="tab-btn" data-tab="bclc">BCLC</button>
        </nav>

        <main class="content">
            <!-- Itinerary Tab -->
            <section id="itinerary" class="tab-content active">
                <div class="itinerary-day">
                    <div class="day-header">
                        <span class="day-date">Mon 26 Jan</span>
                        <span class="day-title">Arrival Day</span>
                    </div>
                    <div class="day-items">
                        <div class="timeline-item flight">
                            <span class="time">06:20</span>
                            <span class="desc">Fly Gatwick ‚Üí Verona (BA2590)</span>
                        </div>
                        <div class="timeline-item">
                            <span class="time">~09:40</span>
                            <span class="desc">Arrive Verona Villafranca</span>
                        </div>
                        <div class="timeline-item accommodation">
                            <span class="time">15:00</span>
                            <span class="desc">Check in - Via Mazzanti 7, Verona</span>
                        </div>
                        <div class="timeline-item football">
                            <span class="time">19:45</span>
                            <span class="desc">Hellas Verona vs Udinese</span>
                        </div>
                    </div>
                </div>

                <div class="itinerary-day">
                    <div class="day-header">
                        <span class="day-date">Tue 27 Jan</span>
                        <span class="day-title">Florence Day</span>
                    </div>
                    <div class="day-items">
                        <div class="timeline-item train">
                            <span class="time">14:22</span>
                            <span class="desc">Italo train to Florence (arr 15:54)</span>
                        </div>
                        <div class="timeline-item accommodation">
                            <span class="time">15:00</span>
                            <span class="desc">Check in - La Mantellate, Florence</span>
                        </div>
                        <div class="timeline-item football">
                            <span class="time">21:00</span>
                            <span class="desc">Fiorentina vs Como (Coppa Italia)</span>
                        </div>
                    </div>
                </div>

                <div class="itinerary-day">
                    <div class="day-header">
                        <span class="day-date">Wed 28 Jan</span>
                        <span class="day-title">Free Day</span>
                    </div>
                    <div class="day-items">
                        <div class="timeline-item">
                            <span class="time">All day</span>
                            <span class="desc">Explore Florence</span>
                        </div>
                    </div>
                </div>

                <div class="itinerary-day">
                    <div class="day-header">
                        <span class="day-date">Thu 29 Jan</span>
                        <span class="day-title">Home</span>
                    </div>
                    <div class="day-items">
                        <div class="timeline-item flight">
                            <span class="time">13:20</span>
                            <span class="desc">Fly Florence ‚Üí Gatwick (VY6206)</span>
                        </div>
                        <div class="timeline-item">
                            <span class="time">14:40</span>
                            <span class="desc">Arrive London Gatwick</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Flights Tab -->
            <section id="flights" class="tab-content">
                <div class="card flight-card">
                    <div class="card-header">
                        <span class="card-label">Outbound</span>
                        <span class="card-date">Mon 26 Jan 2026</span>
                    </div>
                    <div class="flight-route">
                        <div class="airport">
                            <span class="code">LGW</span>
                            <span class="city">London Gatwick</span>
                            <span class="terminal">Terminal S</span>
                        </div>
                        <div class="flight-line">
                            <span class="plane-icon">‚úà</span>
                        </div>
                        <div class="airport">
                            <span class="code">VRN</span>
                            <span class="city">Verona</span>
                            <span class="terminal">Villafranca</span>
                        </div>
                    </div>
                    <div class="flight-times">
                        <div class="time-block">
                            <span class="label">Depart</span>
                            <span class="time">06:20</span>
                        </div>
                        <div class="time-block">
                            <span class="label">Arrive</span>
                            <span class="time">09:40</span>
                        </div>
                    </div>
                    <div class="flight-details">
                        <div class="detail">
                            <span class="label">Flight</span>
                            <span class="value">BA2590</span>
                        </div>
                        <div class="detail">
                            <span class="label">Airline</span>
                            <span class="value">BA Euroflyer</span>
                        </div>
                        <div class="detail">
                            <span class="label">Booking Ref</span>
                            <span class="value">Z9IC5E</span>
                        </div>
                    </div>
                    <button class="view-ticket-btn" onclick="viewBoardingPass()">View Boarding Pass</button>
                </div>

                <div class="card flight-card">
                    <div class="card-header">
                        <span class="card-label">Return</span>
                        <span class="card-date">Thu 29 Jan 2026</span>
                    </div>
                    <div class="flight-route">
                        <div class="airport">
                            <span class="code">FLR</span>
                            <span class="city">Florence</span>
                            <span class="terminal">Peretola</span>
                        </div>
                        <div class="flight-line">
                            <span class="plane-icon">‚úà</span>
                        </div>
                        <div class="airport">
                            <span class="code">LGW</span>
                            <span class="city">London Gatwick</span>
                            <span class="terminal"></span>
                        </div>
                    </div>
                    <div class="flight-times">
                        <div class="time-block">
                            <span class="label">Depart</span>
                            <span class="time">13:20</span>
                        </div>
                        <div class="time-block">
                            <span class="label">Arrive</span>
                            <span class="time">14:40</span>
                        </div>
                    </div>
                    <div class="flight-details">
                        <div class="detail">
                            <span class="label">Flight</span>
                            <span class="value">VY6206</span>
                        </div>
                        <div class="detail">
                            <span class="label">Airline</span>
                            <span class="value">Vueling</span>
                        </div>
                        <div class="detail">
                            <span class="label">Booking Ref</span>
                            <span class="value">OEUDNY</span>
                        </div>
                    </div>
                    <button class="view-ticket-btn" onclick="viewReturnBoardingPass()">View Boarding Pass</button>
                </div>
            </section>

            <!-- Trains Tab -->
            <section id="trains" class="tab-content">
                <div class="card train-card">
                    <div class="card-header">
                        <span class="card-label">Verona ‚Üí Florence</span>
                        <span class="card-date">Tue 27 Jan 2026</span>
                    </div>
                    <div class="flight-route">
                        <div class="airport">
                            <span class="code">VRN</span>
                            <span class="city">Verona Porta Nuova</span>
                        </div>
                        <div class="flight-line train-line">
                            <span class="plane-icon">üöÑ</span>
                        </div>
                        <div class="airport">
                            <span class="code">FI</span>
                            <span class="city">Firenze S.M.N.</span>
                        </div>
                    </div>
                    <div class="flight-times">
                        <div class="time-block">
                            <span class="label">Depart</span>
                            <span class="time">14:22</span>
                        </div>
                        <div class="time-block">
                            <span class="label">Arrive</span>
                            <span class="time">15:54</span>
                        </div>
                    </div>
                    <div class="flight-details">
                        <div class="detail">
                            <span class="label">Train</span>
                            <span class="value">Italo 8959</span>
                        </div>
                        <div class="detail">
                            <span class="label">Coach</span>
                            <span class="value">2</span>
                        </div>
                        <div class="detail">
                            <span class="label">Duration</span>
                            <span class="value">1h 32m</span>
                        </div>
                    </div>
                    <div id="train-ticket">
                        <!-- Button or placeholder added by JS -->
                    </div>
                </div>
            </section>

            <!-- Football Tab -->
            <section id="football" class="tab-content">
                <div class="card match-card verona">
                    <div class="match-header">
                        <div class="club-badge-placeholder verona-badge">HV</div>
                        <div class="match-info">
                            <span class="competition">Serie A</span>
                            <span class="match-title">Hellas Verona vs Udinese</span>
                        </div>
                    </div>
                    <div class="match-details">
                        <div class="detail-row">
                            <span class="icon">üìÖ</span>
                            <span>Mon 26 Jan 2026</span>
                        </div>
                        <div class="detail-row">
                            <span class="icon">‚è∞</span>
                            <span>20:45 kick-off</span>
                        </div>
                        <div class="detail-row">
                            <span class="icon">üèüÔ∏è</span>
                            <span>Stadio Bentegodi, Verona</span>
                        </div>
                    </div>
                    <div class="ticket-info" id="verona-ticket">
                        <!-- Button added by JS for those with tickets -->
                    </div>
                </div>

                <div class="card match-card fiorentina">
                    <div class="match-header">
                        <div class="club-badge-placeholder fiorentina-badge">ACF</div>
                        <div class="match-info">
                            <span class="competition">Coppa Italia Frecciarossa</span>
                            <span class="match-title">Fiorentina vs Como</span>
                        </div>
                    </div>
                    <div class="match-details">
                        <div class="detail-row">
                            <span class="icon">üìÖ</span>
                            <span>Tue 27 Jan 2026</span>
                        </div>
                        <div class="detail-row">
                            <span class="icon">‚è∞</span>
                            <span>21:00 kick-off</span>
                        </div>
                        <div class="detail-row">
                            <span class="icon">üèüÔ∏è</span>
                            <span>Stadio Artemio Franchi, Florence</span>
                        </div>
                    </div>
                    <div class="ticket-info" id="fiorentina-ticket">
                        <!-- Button added by JS for those with tickets -->
                    </div>
                </div>
            </section>

            <!-- Accommodation Tab -->
            <section id="accommodation" class="tab-content">
                <div class="card accommodation-card">
                    <div class="card-header">
                        <span class="card-label">Verona</span>
                        <span class="card-date">26-27 Jan</span>
                    </div>
                    <div class="accommodation-photo verona-photo">
                    </div>
                    <div class="accommodation-details">
                        <h3 class="property-name">Apartment in Verona</h3>
                        <p class="property-address">Via Mazzanti 7, Verona 37121</p>
                        <div class="check-times">
                            <div class="check-block">
                                <span class="label">Check-in</span>
                                <span class="value">15:00</span>
                            </div>
                            <div class="check-block">
                                <span class="label">Check-out</span>
                                <span class="value">TBC</span>
                            </div>
                        </div>
                        <p class="location-note">Right by Piazza Erbe, near Arena di Verona</p>
                    </div>
                    <a href="https://maps.google.com/?q=Via+Mazzanti+7,+Verona+37121,+Italy" target="_blank" class="map-btn">
                        Open in Maps
                    </a>
                </div>

                <div class="card accommodation-card">
                    <div class="card-header">
                        <span class="card-label">Florence</span>
                        <span class="card-date">27-29 Jan</span>
                    </div>
                    <div class="accommodation-photo florence-photo">
                    </div>
                    <div class="accommodation-details">
                        <h3 class="property-name">La Mantellate Dwelling</h3>
                        <p class="property-address">Historic Centre, Florence</p>
                        <div class="check-times">
                            <div class="check-block">
                                <span class="label">Check-in</span>
                                <span class="value">15:00</span>
                            </div>
                            <div class="check-block">
                                <span class="label">Check-out</span>
                                <span class="value">TBC</span>
                            </div>
                        </div>
                        <p class="location-note">Near Fortezza da Basso & the Duomo</p>
                    </div>
                    <a href="https://maps.google.com/?q=La+Mantellate+Florence+Italy" target="_blank" class="map-btn">
                        Open in Maps
                    </a>
                </div>

                <!-- Weather Section -->
                <div class="card info-card">
                    <div class="card-header weather-header">
                        <span class="card-label">Weather Forecast</span>
                    </div>
                    <div id="weather-content">
                        <p class="weather-note">Loading weather...</p>
                    </div>
                </div>
            </section>

            <!-- Costs Tab -->
            <section id="costs" class="tab-content">
                <!-- Sync Status Bar -->
                <div class="sync-bar">
                    <span id="sync-status" class="sync-status">Synced</span>
                    <button id="refresh-expenses" class="refresh-btn">Refresh</button>
                </div>

                <!-- Balance Summary -->
                <div class="card balance-card">
                    <div class="card-header">
                        <span class="card-label">Your Balance</span>
                    </div>
                    <div class="balance-display">
                        <span id="balance-amount" class="balance-amount">-</span>
                        <span id="balance-status" class="balance-status"></span>
                    </div>
                </div>

                <!-- Add Expense Form -->
                <div class="card expense-form-card">
                    <div class="card-header">
                        <span class="card-label">Add Expense</span>
                    </div>
                    <form id="expense-form" class="expense-form">
                        <div class="form-group">
                            <label for="expense-desc">What did you buy?</label>
                            <input type="text" id="expense-desc" placeholder="e.g. Dinner, Taxi, Beers..." required>
                        </div>
                        <div class="form-group">
                            <label for="expense-amount">Amount (‚Ç¨)</label>
                            <input type="number" id="expense-amount" placeholder="0.00" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>Split between</label>
                            <div class="split-options" id="split-options">
                                <label class="split-checkbox">
                                    <input type="checkbox" value="matt" checked>
                                    <span>Matt</span>
                                </label>
                                <label class="split-checkbox">
                                    <input type="checkbox" value="ken" checked>
                                    <span>Ken</span>
                                </label>
                                <label class="split-checkbox">
                                    <input type="checkbox" value="chris" checked>
                                    <span>Chris</span>
                                </label>
                                <label class="split-checkbox">
                                    <input type="checkbox" value="andy" checked>
                                    <span>Andy</span>
                                </label>
                                <label class="split-checkbox">
                                    <input type="checkbox" value="mark" checked>
                                    <span>Mark</span>
                                </label>
                            </div>
                        </div>
                        <button type="submit" class="add-expense-btn">Add Expense</button>
                    </form>
                </div>

                <!-- Expenses List -->
                <div class="card expenses-list-card">
                    <div class="card-header">
                        <span class="card-label">All Expenses</span>
                        <span id="total-spent" class="total-spent">‚Ç¨0.00</span>
                    </div>
                    <div id="expenses-list" class="expenses-list">
                        <p class="no-expenses">No expenses yet</p>
                    </div>
                </div>

                <!-- Settlement Summary -->
                <div class="card settlement-card">
                    <div class="card-header settlement-header">
                        <span class="card-label">Settle Up</span>
                    </div>
                    <div id="settlement-list" class="settlement-list">
                        <p class="no-settlements">Add expenses to see who owes what</p>
                    </div>
                </div>
            </section>

            <!-- Predictions Tab -->
            <section id="predictions" class="tab-content">
                <!-- Match Header Card -->
                <div class="card pred-match-card">
                    <div class="pred-match-header">
                        <div class="pred-team">
                            <div class="pred-badge fiorentina-badge">ACF</div>
                            <span class="pred-team-name">Fiorentina</span>
                        </div>
                        <div class="pred-vs">
                            <span class="pred-competition">Coppa Italia</span>
                            <span class="pred-vs-text">vs</span>
                            <span class="pred-date">Tue 27 Jan, 21:00</span>
                        </div>
                        <div class="pred-team">
                            <div class="pred-badge como-badge">CO</div>
                            <span class="pred-team-name">Como</span>
                        </div>
                    </div>
                    <div class="pred-countdown" id="pred-countdown">
                        <span id="countdown-text">Loading...</span>
                    </div>
                </div>

                <!-- Sync Status Bar -->
                <div class="sync-bar">
                    <span id="pred-sync-status" class="sync-status">Synced</span>
                    <button id="refresh-predictions" class="refresh-btn">Refresh</button>
                </div>

                <!-- League Table Card -->
                <div class="card pred-league-card">
                    <div class="card-header pred-league-header">
                        <span class="card-label">Leaderboard</span>
                        <span class="pred-max-pts">/ 50 pts</span>
                    </div>
                    <div id="pred-league-table" class="pred-league-table">
                        <p class="no-predictions">No results entered yet</p>
                    </div>
                </div>

                <!-- Prediction Form (shown before kickoff) -->
                <div id="pred-form-container" class="card pred-form-card">
                    <div class="card-header">
                        <span class="card-label">Your Predictions</span>
                    </div>
                    <form id="prediction-form" class="pred-form">
                        <div class="pred-form-group">
                            <label class="pred-label">1. Final Score</label>
                            <div class="pred-score-inputs">
                                <div class="pred-score-team">
                                    <span>Fiorentina</span>
                                    <input type="number" id="pred-home" min="0" max="20" placeholder="0" required>
                                </div>
                                <span class="pred-score-dash">-</span>
                                <div class="pred-score-team">
                                    <span>Como</span>
                                    <input type="number" id="pred-away" min="0" max="20" placeholder="0" required>
                                </div>
                            </div>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="pred-first-goal-min">2. First Goal Minute</label>
                            <input type="number" id="pred-first-goal-min" min="1" max="120" placeholder="e.g. 18" required>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="pred-total-goals">3. Total Goals in Match</label>
                            <input type="number" id="pred-total-goals" min="0" max="20" placeholder="e.g. 3" required>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label">4. Both Teams to Score?</label>
                            <div class="pred-toggle-group">
                                <label class="pred-toggle">
                                    <input type="radio" name="pred-btts" value="yes" required>
                                    <span>Yes</span>
                                </label>
                                <label class="pred-toggle">
                                    <input type="radio" name="pred-btts" value="no">
                                    <span>No</span>
                                </label>
                            </div>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="pred-cards">5. Number of Cards (Yellow + Red)</label>
                            <input type="number" id="pred-cards" min="0" max="20" placeholder="e.g. 5" required>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="pred-motm">6. Man of the Match</label>
                            <input type="text" id="pred-motm" placeholder="e.g. Moise Kean" required>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="pred-first-yellow-min">7. First Yellow Card Minute</label>
                            <input type="number" id="pred-first-yellow-min" min="1" max="120" placeholder="e.g. 12" required>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="pred-first-scorer">8. First Goalscorer</label>
                            <input type="text" id="pred-first-scorer" placeholder="e.g. Moise Kean" required>
                        </div>

                        <button type="submit" class="pred-submit-btn">Submit Predictions</button>
                    </form>
                </div>

                <!-- All Predictions Grid (shown after kickoff) -->
                <div id="pred-all-container" class="card pred-all-card" style="display:none;">
                    <div class="card-header">
                        <span class="card-label">All Predictions</span>
                    </div>
                    <div id="pred-all-grid" class="pred-all-grid">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Results Entry Form (shown after match) -->
                <div id="pred-results-container" class="card pred-results-card">
                    <div class="card-header pred-results-header">
                        <span class="card-label">Enter Match Results</span>
                    </div>
                    <form id="results-form" class="pred-form">
                        <div class="pred-form-group">
                            <label class="pred-label">Final Score</label>
                            <div class="pred-score-inputs">
                                <div class="pred-score-team">
                                    <span>Fiorentina</span>
                                    <input type="number" id="res-home" min="0" max="20" placeholder="-">
                                </div>
                                <span class="pred-score-dash">-</span>
                                <div class="pred-score-team">
                                    <span>Como</span>
                                    <input type="number" id="res-away" min="0" max="20" placeholder="-">
                                </div>
                            </div>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="res-first-goal-min">First Goal Minute</label>
                            <input type="number" id="res-first-goal-min" min="1" max="120" placeholder="-">
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="res-total-goals">Total Goals</label>
                            <input type="number" id="res-total-goals" min="0" max="20" placeholder="-">
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label">Both Teams Scored?</label>
                            <div class="pred-toggle-group">
                                <label class="pred-toggle">
                                    <input type="radio" name="res-btts" value="yes">
                                    <span>Yes</span>
                                </label>
                                <label class="pred-toggle">
                                    <input type="radio" name="res-btts" value="no">
                                    <span>No</span>
                                </label>
                            </div>
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="res-cards">Number of Cards</label>
                            <input type="number" id="res-cards" min="0" max="20" placeholder="-">
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="res-motm">Man of the Match</label>
                            <input type="text" id="res-motm" placeholder="-">
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="res-first-yellow-min">First Yellow Minute</label>
                            <input type="number" id="res-first-yellow-min" min="1" max="120" placeholder="-">
                        </div>

                        <div class="pred-form-group">
                            <label class="pred-label" for="res-first-scorer">First Goalscorer</label>
                            <input type="text" id="res-first-scorer" placeholder="-">
                        </div>

                        <button type="submit" class="pred-results-btn">Save Results</button>
                    </form>
                </div>
            </section>

            <!-- Florence Recommendations Tab -->
            <section id="recs" class="tab-content">
                <div class="recs-intro">
                    <h3 class="recs-city-title">Florence Guide</h3>
                    <p class="recs-city-sub">27-29 Jan &bull; Near Fortezza da Basso / Duomo</p>
                </div>

                <!-- PLACES TO SEE -->
                <div class="recs-section">
                    <div class="recs-section-header recs-see">
                        <span class="recs-section-icon">&#127963;&#65039;</span>
                        <span class="recs-section-title">Places to See</span>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">The Duomo + Dome Climb</div>
                            <div class="recs-card-desc">Iconic Renaissance cathedral with the largest brick dome ever built. 463 steps to a panoramic view from the top.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Piazza del Duomo &bull; 2 min walk</span>
                            </div>
                            <div class="recs-card-tip">Book the dome climb online in advance (timed entry). Cathedral is free. Go first thing.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Uffizi Gallery</div>
                            <div class="recs-card-desc">One of the world's greatest art museums &mdash; Botticelli, Leonardo, Michelangelo, Caravaggio. Even non-museum types find it jaw-dropping.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Piazzale degli Uffizi &bull; 10 min walk</span>
                            </div>
                            <div class="recs-card-tip">Book online to skip the line. Allow 2-3 hours. Closed Mondays &mdash; go Wed 28th.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Piazzale Michelangelo</div>
                            <div class="recs-card-desc">The best panoramic view of Florence &mdash; whole city laid out below you with the Duomo, Ponte Vecchio, and Tuscan hills. Spectacular at sunset.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">South of the Arno, above San Niccolo</span>
                            </div>
                            <div class="recs-card-tip">Sunset ~17:05. Walk up from San Niccolo (15 min). Free. Wrap up warm.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Piazza della Signoria + Palazzo Vecchio</div>
                            <div class="recs-card-desc">Florence's political heart. Free outdoor sculpture gallery &mdash; replica of David, Cellini's Perseus, Loggia dei Lanzi.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Piazza della Signoria &bull; 5 min walk</span>
                            </div>
                            <div class="recs-card-tip">No booking needed for the piazza. Tower climb inside Palazzo Vecchio has great views.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Basilica di Santa Croce</div>
                            <div class="recs-card-desc">The &ldquo;Pantheon of Florence&rdquo; &mdash; tombs of Michelangelo, Galileo, Machiavelli. Stunning Gothic church with Giotto frescoes.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Piazza Santa Croce &bull; 15 min walk</span>
                            </div>
                            <div class="recs-card-tip">~&euro;8 entry. The piazza outside is where historic Calcio Storico (Florence's brutal ancient football) is played.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Mercato Centrale di San Lorenzo</div>
                            <div class="recs-card-desc">Bustling two-floor food market. Ground floor: traditional market. Upper floor: modern food hall open until midnight.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Via dell'Ariento &bull; 5 min walk</span>
                            </div>
                            <div class="recs-card-tip">Upper floor open daily until midnight &mdash; great for a late-night bite after the football.</div>
                        </div>
                    </div>
                </div>

                <!-- PLACES TO EAT -->
                <div class="recs-section">
                    <div class="recs-section-header recs-eat">
                        <span class="recs-section-icon">&#127837;</span>
                        <span class="recs-section-title">Places to Eat</span>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Trattoria Mario</div>
                            <div class="recs-card-desc">Legendary no-frills communal-table trattoria since 1953. Loud, packed, chaotic &mdash; perfect for a group. Daily-changing menu, great rag&ugrave;.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Via Rosina 2, San Lorenzo &bull; 5 min walk</span>
                            </div>
                            <div class="recs-card-tip">Cash only. No reservations &mdash; just queue. Lunch only Mon-Sat (12:00-15:30). Arrive by 11:45. Shared tables.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Trattoria dall'Oste</div>
                            <div class="recs-card-desc">One of Florence's best for Bistecca alla Fiorentina &mdash; huge T-bone steaks from Chianina cattle, grilled over coals, served rare.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Via Luigi Alamanni 3r &bull; 10 min walk</span>
                            </div>
                            <div class="recs-card-tip">Book ahead for dinner. Steaks priced per kg (~&euro;50-80/kg), shared between two. Don't ask for well done.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">All'Antico Ristoro di Cambi</div>
                            <div class="recs-card-desc">Old-school Oltrarno trattoria with excellent steak, ribollita, and classic meat dishes. Popular with locals, very group-friendly.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Via Sant'Onofrio 1r, Oltrarno &bull; 20 min walk</span>
                            </div>
                            <div class="recs-card-tip">Book ahead for dinner. Good house wine. Great second-evening option.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Da Nerbone (Mercato Centrale)</div>
                            <div class="recs-card-desc">Most famous street food stall in Florence since 1872. Lampredotto (tripe sandwich) and bollito on a crusty roll dipped in broth.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Ground floor, Mercato Centrale &bull; 5 min walk</span>
                            </div>
                            <div class="recs-card-tip">~&euro;4 for a lampredotto sandwich. Order &ldquo;con salsa verde e piccante&rdquo;. Mornings until early afternoon.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Trattoria Sostanza (Il Troia)</div>
                            <div class="recs-card-desc">Tiny legendary institution since 1869. Famous butter chicken breast and artichoke omelette. Shared tables, fast service, incredible food.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Via del Porcellana 25r &bull; Very close to accommodation</span>
                            </div>
                            <div class="recs-card-tip">Reservations essential &mdash; call ahead. Two sittings per evening. Cash only. Closed weekends.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Trippaio del Porcellino</div>
                            <div class="recs-card-desc">Century-old outdoor street food cart next to the famous bronze boar statue. Lampredotto and tripe sandwiches &mdash; eat standing up like a Florentine.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Piazza del Mercato Nuovo &bull; 8 min walk</span>
                            </div>
                            <div class="recs-card-tip">~&euro;4 + glass of red on tap. Rub the boar's nose for luck. Great pit stop between sights.</div>
                        </div>
                    </div>
                </div>

                <!-- THINGS TO DO -->
                <div class="recs-section">
                    <div class="recs-section-header recs-do">
                        <span class="recs-section-icon">&#127866;</span>
                        <span class="recs-section-title">Things to Do</span>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Aperitivo in Piazza Santo Spirito</div>
                            <div class="recs-card-desc">Florence's bohemian left bank comes alive in the evening. Grab a Negroni (invented in Florence) and soak up the local atmosphere.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Piazza Santo Spirito, Oltrarno &bull; 15 min walk</span>
                            </div>
                            <div class="recs-card-tip">Head over 18:00-19:00. Aperitivo includes drink + free snacks/buffet. Try Volume Club.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Craft Beer Crawl</div>
                            <div class="recs-card-desc">Florence has an excellent craft beer scene. Diorama (near Santa Croce), Archea Brewery (Oltrarno), Mostodolce (Via Nazionale &mdash; near base).</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Various &bull; All walkable from centre</span>
                            </div>
                            <div class="recs-card-tip">Try an Italian Grape Ale &mdash; a uniquely Italian style brewed with wine grape must. Mostodolce is closest for a nightcap.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Walk the Arno at Night</div>
                            <div class="recs-card-desc">Walk from Ponte Vecchio (lit up at night) east along the south bank through quiet San Niccolo. Medieval tower gates, cozy wine bars.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Start at Ponte Vecchio, walk east</span>
                            </div>
                            <div class="recs-card-tip">Free. Try Il Rifrullo or Zoe Bar in San Niccolo. Starting point for walk up to Piazzale Michelangelo.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Wine Tasting at Le Volpi e l'Uva</div>
                            <div class="recs-card-desc">Tiny acclaimed wine bar specialising in small-producer Tuscan and natural wines. Pair with a tagliere of cheeses and cured meats.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Piazza dei Rossi 1, south of Ponte Vecchio</span>
                            </div>
                            <div class="recs-card-tip">Small space &mdash; arrive early evening (17:00-18:00). Very affordable by the glass. Staff will guide you.</div>
                        </div>
                    </div>

                    <div class="card recs-card">
                        <div class="recs-card-body">
                            <div class="recs-card-title">Late-Night Secret Bakeries</div>
                            <div class="recs-card-desc">After bars close, locals queue at unmarked bakery back doors for fresh pastries and schiacciata straight from the oven at 1-2am.</div>
                            <div class="recs-card-meta">
                                <span class="recs-location">Various &bull; Near Via dei Cimatori / Santa Croce</span>
                            </div>
                            <div class="recs-card-tip">Look for small groups near back doors around midnight-2am. Pastries &euro;1-2, cash. Perfect end to a big night.</div>
                        </div>
                    </div>
                </div>

                <!-- Practical Notes -->
                <div class="card recs-notes-card">
                    <div class="card-header">
                        <span class="card-label">Quick Tips</span>
                    </div>
                    <div class="recs-notes">
                        <div class="recs-note-item">
                            <span class="recs-note-icon">&#127777;&#65039;</span>
                            <span>Jan weather: 2-8&deg;C. Layer up for the match and Piazzale Michelangelo.</span>
                        </div>
                        <div class="recs-note-item">
                            <span class="recs-note-icon">&#127863;</span>
                            <span>Order a Negroni &mdash; it was invented in Florence. Try Caff&egrave; Gilli on Piazza della Repubblica.</span>
                        </div>
                        <div class="recs-note-item">
                            <span class="recs-note-icon">&#128182;</span>
                            <span>Some trattorias are cash only (Mario, Sostanza). Have euros on hand.</span>
                        </div>
                        <div class="recs-note-item">
                            <span class="recs-note-icon">&#128694;</span>
                            <span>Historic centre is compact &mdash; everything is walkable. Stadium is 3km east (bus or taxi).</span>
                        </div>
                        <div class="recs-note-item">
                            <span class="recs-note-icon">&#9786;&#65039;</span>
                            <span>January = low season. Short queues, easy reservations, more local atmosphere.</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- BCLC Tab -->
            <section id="bclc" class="tab-content">
                <!-- Game Setup Screen -->
                <div id="bclc-setup" class="bclc-screen active">
                    <div class="card bclc-intro-card">
                        <div class="bclc-logo">
                            <span class="bclc-title">BCLC</span>
                            <span class="bclc-subtitle">Big Cock Little Cock</span>
                        </div>
                        <p class="bclc-tagline">The classic beer mat drinking game, digitised</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span class="card-label">Who's Playing?</span>
                        </div>
                        <div class="bclc-player-select" id="bclc-player-select">
                            <label class="bclc-player-checkbox">
                                <input type="checkbox" value="matt" checked>
                                <span>Matt</span>
                            </label>
                            <label class="bclc-player-checkbox">
                                <input type="checkbox" value="ken" checked>
                                <span>Ken</span>
                            </label>
                            <label class="bclc-player-checkbox">
                                <input type="checkbox" value="chris" checked>
                                <span>Chris</span>
                            </label>
                            <label class="bclc-player-checkbox">
                                <input type="checkbox" value="andy" checked>
                                <span>Andy</span>
                            </label>
                            <label class="bclc-player-checkbox">
                                <input type="checkbox" value="mark" checked>
                                <span>Mark</span>
                            </label>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span class="card-label">Choose the Dealer</span>
                            <span class="card-hint">(Goes last)</span>
                        </div>
                        <div class="bclc-dealer-options">
                            <div class="bclc-dealer-mode">
                                <label class="bclc-radio-option active" data-mode="random">
                                    <input type="radio" name="dealer-mode" value="random" checked>
                                    <span class="radio-label">Random</span>
                                </label>
                                <label class="bclc-radio-option" data-mode="select">
                                    <input type="radio" name="dealer-mode" value="select">
                                    <span class="radio-label">Select</span>
                                </label>
                            </div>
                            <div id="bclc-dealer-select" class="bclc-dealer-select hidden">
                                <select id="bclc-dealer-dropdown" class="bclc-dropdown">
                                    <option value="matt">Matt</option>
                                    <option value="ken">Ken</option>
                                    <option value="chris">Chris</option>
                                    <option value="andy">Andy</option>
                                    <option value="mark">Mark</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <button id="bclc-start-btn" class="bclc-start-btn">Start Game</button>
                </div>

                <!-- Game Play Screen -->
                <div id="bclc-game" class="bclc-screen">
                    <div class="bclc-header">
                        <div class="bclc-header-left">
                            <span id="bclc-current-player" class="bclc-current-player">Matt's Turn</span>
                            <span id="bclc-dealer-info" class="bclc-dealer-info">Dealer: Matt</span>
                        </div>
                        <span id="bclc-players-left" class="bclc-players-left">5 left</span>
                    </div>

                    <div class="bclc-cards-area">
                        <div class="bclc-card" id="bclc-card-1" data-flipped="false">
                            <div class="bclc-card-inner">
                                <div class="bclc-card-front" id="bclc-card-1-front"></div>
                                <div class="bclc-card-back" id="bclc-card-1-back"></div>
                            </div>
                        </div>
                        <div class="bclc-card" id="bclc-card-2" data-flipped="false">
                            <div class="bclc-card-inner">
                                <div class="bclc-card-front" id="bclc-card-2-front"></div>
                                <div class="bclc-card-back" id="bclc-card-2-back"></div>
                            </div>
                        </div>
                    </div>

                    <div id="bclc-result" class="bclc-result"></div>

                    <div class="bclc-actions">
                        <button id="bclc-im-out-btn" class="bclc-out-btn">I'm Out!</button>
                        <button id="bclc-next-btn" class="bclc-next-btn" disabled>Next Player</button>
                    </div>

                    <button id="bclc-reset-btn" class="bclc-reset-btn">Reset Game</button>
                </div>

                <!-- Game Over Screen -->
                <div id="bclc-gameover" class="bclc-screen">
                    <div class="card bclc-winner-card">
                        <div class="winner-crown">&#128081;</div>
                        <h2 class="winner-title">Winner!</h2>
                        <span id="bclc-winner-name" class="winner-name">Matt</span>
                        <p class="winner-subtitle">Last one standing!</p>
                    </div>
                    <button id="bclc-play-again-btn" class="bclc-start-btn">Play Again</button>
                </div>
            </section>
        </main>
    </div>

    <!-- PDF Modal -->
    <div id="pdf-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Boarding Pass</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div id="pdf-container" class="pdf-container">
                <!-- PDF rendered here -->
            </div>
        </div>
    </div>

    <script src="./js/app.js"></script>
</body>
</html>
